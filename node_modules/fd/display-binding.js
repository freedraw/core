var platform = require('fd/platform')

var osxKeySymbols = {
  Left: '⇠',
  Up: '⇡',
  Right: '⇢',
  Down: '⇣',
  Enter: '↩︎',
  '\t': '⇥',
  '\x08': '⌫',
  '\x7f': '⌦',
  '\x1b': '⎋',
  ' ': 'Space',
}
var keyNames = {
  '\t': 'Tab',
  '\x08': 'Backspace',
  '\x7f': 'Del',
  '\x1b': 'Escape',
  ' ': 'Space',
}

var format = platform({
  osx: function(x) {
    return (x[1] ? '⌃' : '') + (x[2] ? '⌥' : '') + (x[3] ? '⇧' : '') + (x[4] ? '⌘' : '') + (osxKeySymbols[x[5]] || x[5])
  },
  others: function(x) {
    return (x[1] || x[4] ? 'Control+' : '') + (x[2] ? 'Alt+' : '') + (x[3] ? 'Shift+' : '') + (keyNames[x[5]] || x[5])
  }
})

module.exports = function displayBinding(b) {
  return format(/^(\^)?(:)?(!)?(#)?(.+)$/.exec(b))
}
